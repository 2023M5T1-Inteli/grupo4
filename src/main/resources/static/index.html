<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <link href='//fonts.googleapis.com/css?family=Montserrat:thin,extra-light,light,100,200,300,400,500,600,700,800'
        rel='stylesheet' type='text/css'>


    <script src='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css' rel='stylesheet' />

    <!-- Referência direta ao neo4j driver -->
    <script src="lib/browser/neo4j-web.min.js"></script>

    <script src="./script.js"></script>


    <title>Stall</title>
</head>

<body>
    <div class="input_box" id="input_box">
        <div class="extended_input" id="ext_in">
            <div> <!--ponto inicial-->
                <p id="title">Ponto inicial</p>
                <p id="subtitle"> Latitude:
                    <input placeholder="XXºXX'" id="lat_str" class="input" type="number">
                </p>
                <p id="subtitle"> Longitude:
                    <input placeholder="XXºXX'" id="lon_str" class="input" type="number">
                </p>
            </div>
            <br>
            <div> <!--ponto final-->
                <p id="title">Ponto final</p>
                <p id="subtitle"> Latitude:
                    <input placeholder="XXºXX'" id="lat_end" class="input" type="number">
                </p>
                <p id="subtitle"> Longitude:
                    <input placeholder="XXºXX'" id="lon_end" class="input" type="number">
                </p>
            </div>
            <div>
                <p id="title">MBR</p>
                <p id="subtitle2">Ponto Inicial</p>
                <p id="subtitle"> Latitude:
                    <input placeholder="XXºXX'" id="mbr_lat_str" class="input" type="number">
                </p>
                <p id="subtitle"> Longitude:
                    <input placeholder="XXºXX'" id="mbr_lon_str" class="input" type="number">
                </p>
                <p id="subtitle2">Ponto Final</p>
                <p id="subtitle"> Latitude:
                    <input placeholder="XXºXX'" id="mbr_lat_end" class="input" type="number">
                </p>
                <p id="subtitle"> Longitude:
                    <input placeholder="XXºXX'" id="mbr_lon_end" class="input" type="number">
                </p>
            </div>

            <button class="btn" id="bot-calc" onclick="enviarDados()">Calcular</button>
        </div>
        <div class="short_input" id="sht_in">
            <a>Ponto inicial - </a>
            <a id="lat_1"></a>
            <a id="lon_1"></a>
            <a style="padding-left: 30px;">Ponto final - </a>
            <a id="lat_2"></a>
            <a id="lon_2"></a>
        </div>
        <div class="eye_icon" id="eye_icon"> <!--simbolo olho-->
            <!-- <button class="eye_button" onclick="hide_show()">
                <img src="./imgs/open_eye.png" id="open_eye" style="display: none;">
                <img src="./imgs/closed_eye.png" id="closed_eye" style="display: block;">
            </button> -->
        </div>
    </div>
    <div id="graph" style="width: 1000px;">
        <div id="map">

        </div>
    </div>

    <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoic29sZW1uIiwiYSI6ImNsZmlvbDBibjBrNTg0M25taG1xM2x2YXIifQ.aiMQpTd20YpCaWJfL5BmIg';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [-74.50, 40], // initial map center
            zoom: 9 // initial map zoom level
        });
        map.on('load', function () {
            // add markers for each coordinate
            var coordinates = [
                [-74.00597, 40.71427], // New York
                [-118.24368, 34.05223], // Los Angeles
                [-77.03637, 38.89511] // Washington DC
            ];
            coordinates.forEach(function (coordinate) {
                new mapboxgl.Marker()
                    .setLngLat(coordinate)
                    .addTo(map);
            });
            // create a GeoJSON object with the coordinates
            var geojson = {
                type: 'FeatureCollection',
                features: [{
                    type: 'Feature',
                    geometry: {
                        type: 'LineString',
                        coordinates: coordinates
                    }
                }]
            };
            // add the GeoJSON object as a source for a line layer
            map.addSource('route', {
                type: 'geojson',
                data: geojson
            });
            // add a line layer with the route
            map.addLayer({
                id: 'route',
                type: 'line',
                source: 'route',
                layout: {
                    'line-join': 'round',
                    'line-cap': 'round'
                },
                paint: {
                    'line-color': '#888',
                    'line-width': 8
                }
            });
        });
    </script>

</body>

</html>